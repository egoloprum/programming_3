<!DOCTYPE html>

<html lang="en">

<head>
    <title>Лабораторная работа 3</title>
    <meta charset="utf-8">
    <style>
      table, td, tr{
          border: 1px solid blue;
          border-collapse: collapse;
          padding: 25px;
      }
    </style>
    <script>
        function getStruct() {
            var body = document.body
            var level = 0
            recPrint(body, level)
        }
        function recPrint(node, level) {
            for (var i = node; i != null; i = i.nextSibling) {
                if (i.nodeType == 1) {
                    print(i, level)
                    console.log(`node: ${i.nodeName}\nlevel: ${level}`)
                    if (i.firstElementChild != null && i != document.getElementById('output')) {
                        var child = i.firstElementChild
                        recPrint(child, level + 1)
                    }
                }
            }
        }
        function print(node, level) {
            var output = document.getElementById('output')
            var space = '&nbsp;'
            output.insertAdjacentHTML('beforeend', space.repeat(level * 4) + node.nodeName + '<br>')
        }
    </script>
</head>

<body>
  <div id="div">
    <table>
      <tr>
        <td>1:1</td>
        <td>1:2</td>
        <td>1:3</td>
      </tr>
      <tr>
        <td>2:1</td>
        <td>2:2</td>
        <td>2:3</td>
      </tr>
      <tr>
        <td>3:1</td>
        <td>3:2</td>
        <td>3:3</td>
      </tr>
    </table>
  <p>DOM_elements:</p>
  </div>
    <button onclick="getStruct()">Получить содержимое</button>
    <div id="output">
      <p>Содержимое страницы:</p>
    </div>
</body>

</html>